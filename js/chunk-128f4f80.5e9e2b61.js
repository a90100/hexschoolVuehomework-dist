(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-128f4f80"],{"2c5f":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{attrs:{to:"/cart"}},[a("p",[t._v(t._s(t.Orders))]),a("img",{staticClass:"cart",attrs:{src:i("ffc8")}})])},n=[],s=(i("c5f6"),{name:"CartIcon",props:{Orders:{type:Number}},methods:{getOrders:function(){this.$emit("getOrders",Orders)}}}),r=s,c=(i("e261"),i("2877")),o=Object(c["a"])(r,a,n,!1,null,"059836c1",null);e["a"]=o.exports},"3b3c":function(t,e,i){"use strict";var a=i("c8dc"),n=i.n(a);n.a},4093:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"footerBar"},[i("p",[t._v("©Copyright 2019 by 好置家居 All Rights Reserved.")])])}],s={name:"FooterBar"},r=s,c=(i("3b3c"),i("2877")),o=Object(c["a"])(r,a,n,!1,null,null,null);e["a"]=o.exports},"7d86":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"topBar"},[i("ul",{staticClass:"topMenu"},[i("div",{staticClass:"title",class:{noShow:!t.titleShow}},[i("router-link",{attrs:{to:"/"}},[t._v("好置家居")])],1),i("li",{staticClass:"menu",class:{noShow:!t.menuShow}},[i("router-link",{class:{active:"link1"==t.linkActive},attrs:{to:"/about"},nativeOn:{click:function(e){t.linkActive="link1"}}},[t._v("關於我們")])],1),i("li",{staticClass:"menu",class:{noShow:!t.menuShow}},[i("router-link",{class:{active:"link2"==t.linkActive},attrs:{to:"/products"},nativeOn:{click:function(e){t.linkActive="link2"}}},[t._v("所有商品")])],1),i("li",{staticClass:"menu",class:{noShow:!t.menuShow}},[i("router-link",{class:{active:"link3"==t.linkActive},attrs:{to:"/works"},nativeOn:{click:function(e){t.linkActive="link3"}}},[t._v("好置作品")])],1),i("li",{staticClass:"menu",class:{noShow:!t.menuShow}},[i("router-link",{class:{active:"link4"==t.linkActive},attrs:{to:"/login"},nativeOn:{click:function(e){t.linkActive="link4"}}},[t._v("後臺登入")])],1),i("div",{staticClass:"hamburgerMenu",class:{noShow:!t.hamburgerShow,active:t.hamburgerActive},on:{click:t.showMenu}},[i("div",{staticClass:"line"}),i("div",{staticClass:"line"}),i("div",{staticClass:"line"})])])])},n=[],s={name:"TopMenu",data:function(){return{hamburgerShow:!1,hamburgerActive:!1,menuShow:!0,titleShow:!0,linkActive:""}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},methods:{handleResize:function(){var t=this;t.windowWidth=window.innerWidth,t.windowWidth<576&&(t.hamburgerShow=!0,t.menuShow=!1)},showMenu:function(){this.hamburgerActive=!this.hamburgerActive,this.menuShow=!this.menuShow,this.titleShow=!this.titleShow}},destroyed:function(){window.removeEventListener("resize",this.handleResize)}},r=s,c=(i("e2dc"),i("2877")),o=Object(c["a"])(r,a,n,!1,null,"2871f0b8",null);e["a"]=o.exports},ac6a:function(t,e,i){for(var a=i("cadf"),n=i("0d58"),s=i("2aba"),r=i("7726"),c=i("32e9"),o=i("84f2"),l=i("2b4c"),u=l("iterator"),d=l("toStringTag"),p=o.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=n(v),f=0;f<h.length;f++){var g,m=h[f],_=v[m],C=r[m],k=C&&C.prototype;if(k&&(k[u]||c(k,u,p),k[d]||c(k,d,m),o[m]=p,_))for(g in a)k[g]||s(k,g,a[g],!0)}},c8dc:function(t,e,i){},d76f:function(t,e,i){},e261:function(t,e,i){"use strict";var a=i("ee94"),n=i.n(a);n.a},e2dc:function(t,e,i){"use strict";var a=i("f8be"),n=i.n(a);n.a},e6dc:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"main"}},[i("top-menu"),i("div",{staticClass:"content row"},[i("div",{staticClass:"col-sm-3"},[i("ul",{staticClass:"selectList"},[i("li",{on:{click:function(e){return t.getProducts("")}}},[t._v("全部產品")]),i("li",{on:{click:function(e){return t.getProducts("床")}}},[t._v("床")]),i("li",{on:{click:function(e){return t.getProducts("電視櫃")}}},[t._v("電視櫃")]),i("li",{on:{click:function(e){return t.getProducts("枕頭")}}},[t._v("枕頭")]),i("li",{on:{click:function(e){return t.getProducts("置物架")}}},[t._v("置物架")]),i("li",{on:{click:function(e){return t.getProducts("沙發")}}},[t._v("沙發")]),i("li",{on:{click:function(e){return t.getProducts("桌子")}}},[t._v("桌子")])])]),i("div",{staticClass:"col-sm-9"},t._l(t.filterData,function(e,a){return i("div",{key:e.id,staticClass:"product"},[i("div",{staticClass:"img",style:{backgroundImage:"url("+e.imageUrl+")"}},[i("div",{staticClass:"title"},[t._v(t._s(e.title))]),e.content?i("div",{staticClass:"content"},[t._v(t._s(e.content))]):t._e()]),i("p",{staticClass:"price"},[t._v("折扣價 "),i("span",[t._v(t._s(t._f("currency")(e.price))+" ")]),t._v("元")]),i("div",{staticClass:"buttons"},[i("button",{staticClass:"btn btn-sm btn-outline-success",attrs:{type:"button"},on:{click:function(i){return t.getProductDetail(e.id)}}},[t._v("查看更多")]),i("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:function(i){return t.addToCart(e.id)}}},[t._v("加入購物車")])])])}),0),i("ul",{staticClass:"pagination"},[i("li",{staticClass:"page-item",class:{disabled:0==t.currentPage}},[i("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.getCurrentPage(t.currentPage-1)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pages,function(e){return i("li",{key:e,staticClass:"page-item"},[i("a",{staticClass:"page-link",class:{active:t.currentPage==e-1},attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.getCurrentPage(e-1)}}},[t._v(t._s(e))])])}),i("li",{staticClass:"page-item",class:{disabled:t.currentPage==t.pages-1}},[i("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.getCurrentPage(t.currentPage+1)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2),i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),i("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"productModalTitle","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",{staticClass:"h4 modal-title",attrs:{id:"productModalTitle"}},[t._v(t._s(t.productDetail.title))]),t._m(0)]),i("div",{staticClass:"modal-body"},[i("img",{attrs:{src:t.productDetail.imageUrl}}),i("p",{staticClass:"description h5"},[t._v(t._s(t.productDetail.description))]),i("div",{staticClass:"price"},[i("p",{staticClass:"origin_price"},[t._v("原價 "+t._s(t._f("currency")(t.productDetail.origin_price))+" 元")]),i("p",{staticClass:"discount_price h4"},[t._v("折扣價 "+t._s(t._f("currency")(t.productDetail.price))+" 元")])]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.num=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"1",selected:""}},[t._v("選購 1 "+t._s(t.productDetail.unit))]),i("option",{attrs:{value:"2"}},[t._v("選購 2 "+t._s(t.productDetail.unit))]),i("option",{attrs:{value:"3"}},[t._v("選購 3 "+t._s(t.productDetail.unit))]),i("option",{attrs:{value:"5"}},[t._v("選購 5 "+t._s(t.productDetail.unit))]),i("option",{attrs:{value:"10"}},[t._v("選購 10 "+t._s(t.productDetail.unit))])])]),i("div",{staticClass:"modal-footer"},[i("p",{staticClass:"h3"},[t._v("總計 "+t._s(t._f("currency")(t.num*t.productDetail.price))+"元")]),i("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.addToCart(t.productDetail.id,t.num)}}},[t._v("加入購物車")])])])])])],1),i("cart-icon",{attrs:{Orders:t.orderNum},on:{getOrders:t.getCart}}),i("footer-bar")],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],s=(i("ac6a"),i("7d86")),r=i("4093"),c=i("2c5f"),o=i("1157"),l=i.n(o),u={name:"products",components:{TopMenu:s["a"],FooterBar:r["a"],CartIcon:c["a"]},data:function(){return{products:[],productDetail:{},pages:0,currentPage:0,category:"",num:1,orderNum:0}},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("harry_xie","/products/all");e.$http.get(i).then(function(i){e.products=i.data.products,e.products=""!=t?e.products.filter(function(e){return e.category==t}):i.data.products})},getCurrentPage:function(t){this.currentPage=t},getProductDetail:function(t){var e=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("harry_xie","/product/").concat(t);e.$store.dispatch("uploading",!0),e.$http.get(i).then(function(t){e.productDetail=t.data.product,e.$store.dispatch("uploading",!1),l()("#productModal").modal("show")})},addToCart:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this,n="".concat("https://vue-course-api.hexschool.io","/api/").concat("harry_xie","/cart"),s={product_id:t,qty:i};a.$store.dispatch("uploading",!0),a.$http.post(n,{data:s}).then(function(t){l()("#productModal").modal("hide"),e.getCart(),a.$store.dispatch("uploading",!1)})},getCart:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("harry_xie","/cart");t.$http.get(e).then(function(e){t.orderNum=e.data.data.carts.length})}},computed:{filterData:function(){var t=this,e=[];return t.products.forEach(function(i,a){a%9==0&&e.push([]),t.pages=e.length;var n=parseInt(a/9);e[n].push(i)}),e[t.currentPage]},isLoading:function(){return this.$store.state.isLoading}},created:function(){this.getProducts(),this.getCart()}},d=u,p=(i("f248"),i("2877")),v=Object(p["a"])(d,a,n,!1,null,"0283f530",null);e["default"]=v.exports},ee94:function(t,e,i){},f248:function(t,e,i){"use strict";var a=i("d76f"),n=i.n(a);n.a},f8be:function(t,e,i){},ffc8:function(t,e,i){t.exports=i.p+"img/cart.41058050.svg"}}]);
//# sourceMappingURL=chunk-128f4f80.5e9e2b61.js.map