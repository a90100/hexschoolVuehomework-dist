(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-529953c1","chunk-33fa85d4","chunk-1c1c4184","chunk-5448ca70"],{"0fd2":function(t,e,a){"use strict";var s=a("5bbd"),o=a.n(s);o.a},1843:function(t,e,a){"use strict";var s=a("e9b8"),o=a.n(s);o.a},"1df5":function(t,e,a){},"35fa":function(t,e,a){"use strict";var s=a("71e0"),o=a.n(s);o.a},"39cb":function(t,e,a){},"3f2d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main"}},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.orders,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.user.name))]),a("td",[t._v("Email: "+t._s(e.user.email)+" "),a("br"),a("br"),t._v(" 電話: "+t._s(e.user.tel))]),a("td",t._l(e.products,function(e){return a("p",[t._v(t._s(e.product.title)+" "+t._s(e.product.num)+" "+t._s(e.product.unit))])}),0),a("td",[t._v(t._s(t._f("currency")(e.total))+" 元")]),a("td",[t._v(t._s(e.create_at))]),e.is_paid?t._e():a("td",{staticClass:"text-danger"},[t._v("尚未付款")]),e.is_paid?a("td",{staticClass:"text-success"},[t._v("已付款")]):t._e()])}),0)])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("訂購者姓名")]),a("th",[t._v("訂購者資訊")]),a("th",[t._v("購買品項")]),a("th",[t._v("應付金額")]),a("th",[t._v("訂購日期")]),a("th",{attrs:{width:"100"}},[t._v("是否付款")])])])}],i={name:"DashboardOrders",data:function(){return{orders:[],ordersProduct:[]}},methods:{getOrders:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("harry_xie","/admin/orders");this.$http.get(e).then(function(e){console.log(e.data.orders),t.orders=e.data.orders})}},created:function(){this.getOrders()}},n=i,r=(a("1843"),a("2877")),c=Object(r["a"])(n,s,o,!1,null,null,null);e["default"]=c.exports},"4a2f":function(t,e,a){"use strict";var s=a("dfbe"),o=a.n(s);o.a},"53b7":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main"}},[a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.opencloseModal(!0)}}},[t._v("新增優惠券")]),1==t.modalShow?a("div",{attrs:{id:"couponModal"}},[a("h4",{staticClass:"h4"},[t._v("新增優惠券")]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.title,expression:"tempCoupon.title"}],staticClass:"form-control",attrs:{id:"title",type:"text",placeholder:"請輸入優惠券名稱"},domProps:{value:t.tempCoupon.title},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"title",e.target.value)}}})]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("折扣 % 數")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.percent,expression:"tempCoupon.percent"}],staticClass:"form-control",attrs:{id:"category",type:"number",placeholder:"請輸入數字"},domProps:{value:t.tempCoupon.percent},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"percent",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("到期日")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.due_date,expression:"tempCoupon.due_date"}],staticClass:"form-control",attrs:{id:"unit",type:"date",placeholder:"請輸入日期"},domProps:{value:t.tempCoupon.due_date},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"due_date",e.target.value)}}})])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("優惠券號碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.code,expression:"tempCoupon.code"}],staticClass:"form-control",attrs:{id:"title",type:"text",placeholder:"請輸入優惠券號碼"},domProps:{value:t.tempCoupon.code},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"code",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.is_enabled,expression:"tempCoupon.is_enabled"}],staticClass:"form-check-input",attrs:{id:"is_enabled",type:"checkbox","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.tempCoupon.is_enabled)?t._i(t.tempCoupon.is_enabled,null)>-1:t._q(t.tempCoupon.is_enabled,1)},on:{change:function(e){var a=t.tempCoupon.is_enabled,s=e.target,o=s.checked?1:0;if(Array.isArray(a)){var i=null,n=t._i(a,i);s.checked?n<0&&t.$set(t.tempCoupon,"is_enabled",a.concat([i])):n>-1&&t.$set(t.tempCoupon,"is_enabled",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.tempCoupon,"is_enabled",o)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.opencloseModal}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateCoupon}},[t._v("確認")])])]):t._e(),a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.coupons,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.title))]),a("td",[t._v(t._s(e.code))]),a("td",[t._v(t._s(e.percent))]),a("td",[t._v(t._s(e.due_date))]),a("td",[1==e.is_enabled?a("span",{staticClass:"text-success"},[t._v("啟用")]):a("span",{staticClass:"text-danger"},[t._v("未啟用")])]),a("td",[a("button",{staticClass:"btn btn-sm btn-outline-info",attrs:{type:"button"},on:{click:function(a){return t.opencloseModal(!1,e)}}},[t._v("編輯")])]),a("td",[a("button",{staticClass:"btn btn-sm btn-info",attrs:{type:"button"},on:{click:function(a){return t.deleteCoupon(e)}}},[t._v("刪除")])])])}),0)])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("優惠券名稱")]),a("th",[t._v("優惠券號碼")]),a("th",{attrs:{width:"80"}},[t._v("折扣")]),a("th",{attrs:{width:"120"}},[t._v("到期日")]),a("th",{attrs:{width:"90"}},[t._v("是否啟用")]),a("th",{attrs:{width:"80"}}),a("th",{attrs:{width:"80"}})])])}],i={name:"DashboardCoupons",data:function(){return{coupons:[],tempCoupon:{},modalShow:!1,isNew:!1}},methods:{getCoupons:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("harry_xie","/admin/coupons");this.$http.get(e).then(function(e){console.log(e.data),t.coupons=e.data.coupons})},opencloseModal:function(t,e){t?(this.tempCoupon={},this.isNew=!0):(this.tempCoupon=Object.assign({},e),this.isNew=!1),this.modalShow=!this.modalShow},updateCoupon:function(){this.modalShow=!this.modalShow;var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("harry_xie","/admin/coupon"),a="post";t.isNew||(e="".concat("https://vue-course-api.hexschool.io","/api/").concat("harry_xie","/admin/coupon/").concat(t.tempCoupon.id),a="put"),this.$http[a](e,{data:t.tempCoupon}).then(function(e){console.log(e),t.getCoupons()})},deleteCoupon:function(t){var e=this;e.tempCoupon=Object.assign({},t);var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("harry_xie","/admin/coupon/").concat(e.tempCoupon.id);this.$http.delete(a,{data:e.tempCoupon}).then(function(t){console.log(t.data),t.data.success&&e.getCoupons()})}},created:function(){this.getCoupons()}},n=i,r=(a("35fa"),a("2877")),c=Object(r["a"])(n,s,o,!1,null,null,null);e["default"]=c.exports},"5bbd":function(t,e,a){},"621d":function(t,e,a){"use strict";var s=a("f2ba"),o=a.n(s);o.a},"71e0":function(t,e,a){},7277:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main"}},[a("alert"),a("dashboard-sidebar"),a("dashboard-menu"),a("div",{staticClass:"content col-xs-10"},[a("transition",{attrs:{name:"fade"}},[a("router-view")],1)],1)],1)},o=[],i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar col-xs-2"},[a("ul",{staticClass:"list"},[a("li",[a("a",{attrs:{href:"#/dashboard/dashboardproducts"}},[a("i",{staticClass:"fas fa-box-open"}),t._v("產品列表")])]),a("li",[a("a",{attrs:{href:"#/dashboard/dashboardorders"}},[a("i",{staticClass:"fas fa-list-ul"}),t._v("訂單列表")])]),a("li",[a("a",{attrs:{href:"#/dashboard/dashboardcoupons"}},[a("i",{staticClass:"fas fa-ticket-alt"}),t._v("優惠券")])])])])}],r={name:"DashboardSidebar"},c=r,l=(a("af0e"),a("2877")),u=Object(l["a"])(c,i,n,!1,null,"38dfddf9",null),d=u.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-sm navbar-dark bg-dark"},[a("div",{staticClass:"h2 text-white"},[t._v("好置家居")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"dashboardMenu"}},[a("ul",{staticClass:"navbar-nav"},[t._m(1),t._m(2),t._m(3),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"text-white nav-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.signout(e)}}},[t._m(4)])])])])])},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#dashboardMenu","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"text-white nav-link",attrs:{href:"#/dashboard/dashboardproducts"}},[t._v("產品列表")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"text-white nav-link",attrs:{href:"#/dashboard/dashboardorders"}},[t._v("訂單列表")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"text-white nav-link",attrs:{href:"#/dashboard/dashboardcoupons"}},[t._v("優惠券")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("i",{staticClass:"fas fa-sign-out-alt"},[t._v("登出")])])}],h={name:"DashboardMenu",methods:{signout:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/logout");this.$http.post(e).then(function(e){console.log(e.data),e.data.success&&t.$router.push("/login")})}}},v=h,f=(a("d5d8"),Object(l["a"])(v,p,m,!1,null,"07828e00",null)),_=f.exports,g=a("979c"),b=a("3f2d"),C=a("53b7"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert"},t._l(t.messages,function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+e.status},[t._v("\n    "+t._s(e.message)+"\n    "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}),0)},y=[],x=(a("ac6a"),{name:"alertMessage",data:function(){return{messages:[]}},methods:{updateMessage:function(t,e){var a=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:a}),this.removeMessageWithTiming(a)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout(function(){e.messages.forEach(function(a,s){a.timestamp===t&&e.messages.splice(s,1)})},5e3)}},created:function(){var t=this;t.$bus.$on("messsage:push",function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,a)})}}),w=x,k=(a("4a2f"),Object(l["a"])(w,P,y,!1,null,null,null)),$=k.exports,S={name:"dashboard",components:{DashboardSidebar:d,DashboardMenu:_,DashboardProducts:g["default"],DashboardOrders:b["default"],DashboardCoupons:C["default"],Alert:$}},M=S,L=(a("0fd2"),Object(l["a"])(M,s,o,!1,null,"d1c7ce70",null));e["default"]=L.exports},8921:function(t,e,a){},"979c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main"}},[a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.opencloseModal(!0)}}},[t._v("新增產品")]),1==t.modalShow?a("div",{attrs:{id:"productModal"}},[a("h4",{staticClass:"h4"},[t._v("新增產品")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl,expression:"tempProduct.imageUrl"}],staticClass:"form-control",attrs:{id:"image",type:"text",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"imageUrl",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片"),t.status.fileUploading?a("i",{staticClass:"fas fa-circle-notch fa-spin"}):t._e()]),a("input",{ref:"files",staticClass:"form-control",attrs:{id:"customFile",type:"file"},on:{change:t.uploadFile}})]),a("img",{staticClass:"img-fluid",attrs:{alt:"",src:t.tempProduct.imageUrl}})]),a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{id:"title",type:"text",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"title",e.target.value)}}})]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("分類")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{id:"category",type:"text",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"category",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("單位")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{id:"unit",type:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"unit",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"origin_price"}},[t._v("原價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{id:"origin_price",type:"number",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"origin_price",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("售價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{id:"price",type:"number",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"price",e.target.value)}}})])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("產品描述")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{id:"description",type:"text",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.description},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"description",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("說明內容")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{id:"content",type:"text",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempProduct.content},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"content",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{id:"is_enabled",type:"checkbox","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t._q(t.tempProduct.is_enabled,1)},on:{change:function(e){var a=t.tempProduct.is_enabled,s=e.target,o=s.checked?1:0;if(Array.isArray(a)){var i=null,n=t._i(a,i);s.checked?n<0&&t.$set(t.tempProduct,"is_enabled",a.concat([i])):n>-1&&t.$set(t.tempProduct,"is_enabled",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.tempProduct,"is_enabled",o)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.opencloseModal}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v("確認")])])]):t._e(),a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.products,function(e,s){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.category))]),a("td",[t._v(t._s(e.title))]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.origin_price)))]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.price)))]),a("td",[1==e.is_enabled?a("span",{staticClass:"text-success"},[t._v("啟用")]):a("span",{staticClass:"text-danger"},[t._v("未啟用")])]),a("td",[a("button",{staticClass:"btn btn-sm btn-outline-info",attrs:{type:"button"},on:{click:function(a){return t.opencloseModal(!1,e)},change:t.uploadFile}},[t._v("編輯")])]),a("td",[a("button",{staticClass:"btn btn-sm btn-info",attrs:{type:"button"},on:{click:function(a){return t.deleteProduct(e)}}},[t._v("刪除")])])])}),0)]),a("Pagination",{attrs:{Pages:t.pagination},on:{callProducts:t.getProducts}})],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"150"}},[t._v("分類")]),a("th",[t._v("產品名稱")]),a("th",{attrs:{width:"150"}},[t._v("原價")]),a("th",{attrs:{width:"150"}},[t._v("售價")]),a("th",{attrs:{width:"90"}},[t._v("是否啟用")]),a("th",{attrs:{width:"70"}},[t._v("編輯")]),a("th",{attrs:{width:"70"}},[t._v("刪除")])])])}],i=(a("1157"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item",class:{disabled:!t.Pages.has_pre}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.getPage(t.Pages.current_page-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.Pages.total_pages,function(e){return a("li",{key:e,staticClass:"page-item"},[a("a",{staticClass:"page-link",class:{active:t.Pages.current_page==e},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getPage(e)}}},[t._v(t._s(e))])])}),a("li",{staticClass:"page-item",class:{disabled:!t.Pages.has_next}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.getPage(t.Pages.current_page+1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)}),n=[],r={name:"Pagination",props:{Pages:{type:Object}},methods:{getPage:function(t){this.$emit("callProducts",t)}}},c=r,l=(a("621d"),a("2877")),u=Object(l["a"])(c,i,n,!1,null,"6bf718d0",null),d=u.exports,p={name:"DashboardProducts",data:function(){return{products:[],tempProduct:{},modalShow:!1,isNew:!1,status:{fileUploading:!1},pagination:{}}},components:{Pagination:d},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("harry_xie","/admin/products?page=").concat(t),a=this;this.$http.get(e).then(function(t){console.log(t.data),a.products=t.data.products,a.pagination=t.data.pagination})},opencloseModal:function(t,e){t?(this.tempProduct={},this.isNew=!0):(this.tempProduct=Object.assign({},e),this.isNew=!1),this.modalShow=!this.modalShow},updateProduct:function(){this.modalShow=!this.modalShow;var t="post",e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("harry_xie","/admin/product");e.isNew||(a="".concat("https://vue-course-api.hexschool.io","/api/").concat("harry_xie","/admin/product/").concat(e.tempProduct.id),t="put"),this.$http[t](a,{data:e.tempProduct}).then(function(t){console.log(t.data),t.data.success?e.getProducts():(e.getProducts(),console.log("新增失敗"))})},deleteProduct:function(t){var e=this;e.tempProduct=Object.assign({},t);var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("harry_xie","/admin/product/").concat(e.tempProduct.id);this.$http.delete(a,{data:e.tempProduct}).then(function(t){console.log(t.data),t.data.success?(e.getProducts(),console.log("已刪除商品")):console.log("找不到商品")})},uploadFile:function(){var t=this;console.log(this);var e=this,a=this.$refs.files.files[0],s=new FormData;s.append("file-to-upload",a);var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("harry_xie","/admin/upload");e.status.fileUploading=!0,this.$http.post(o,s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){console.log(a.data),a.data.success?e.$set(e.tempProduct,"imageUrl",a.data.imageUrl):t.$bus.$emit("message:push",a.data.message,"danger"),e.status.fileUploading=!1})}},created:function(){this.getProducts()}},m=p,h=(a("d8d6"),Object(l["a"])(m,s,o,!1,null,"c744eaa0",null));e["default"]=h.exports},ac6a:function(t,e,a){for(var s=a("cadf"),o=a("0d58"),i=a("2aba"),n=a("7726"),r=a("32e9"),c=a("84f2"),l=a("2b4c"),u=l("iterator"),d=l("toStringTag"),p=c.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(m),v=0;v<h.length;v++){var f,_=h[v],g=m[_],b=n[_],C=b&&b.prototype;if(C&&(C[u]||r(C,u,p),C[d]||r(C,d,_),c[_]=p,g))for(f in s)C[f]||i(C,f,s[f],!0)}},af0e:function(t,e,a){"use strict";var s=a("39cb"),o=a.n(s);o.a},d5d8:function(t,e,a){"use strict";var s=a("8921"),o=a.n(s);o.a},d8d6:function(t,e,a){"use strict";var s=a("1df5"),o=a.n(s);o.a},dfbe:function(t,e,a){},e9b8:function(t,e,a){},f2ba:function(t,e,a){}}]);
//# sourceMappingURL=chunk-529953c1.753df29b.js.map